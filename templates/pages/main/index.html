{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block extra_css %}
<style>
  :root {
    --primary:   #FF6700;
    --accent:    #01426A;
    --text:      #333;
    --gap:       1.5rem;
  }
  body { color: var(--text); }

  .hero {
    padding: calc(var(--gap)*2) var(--gap);
    text-align: center;
  }
  .hero img.logo {
    height: 60px;
    margin-bottom: var(--gap);
  }
  .hero h1 {
    font-size: 2.5rem;
    margin-bottom: 0.5rem;
  }
  .hero p {
    font-size: 1.125rem;
    margin-bottom: var(--gap);
  }
  .btn-cta {
    display: inline-block;
    padding: .75rem 2rem;
    background: var(--primary);
    color: #fff;
    border-radius: 4px;
    text-decoration: none;
  }

  .weather {
    display: flex;
    justify-content: center;
    padding: var(--gap) var(--gap);
  }
  #weather-widget-container {
    max-width: 360px;
    width: 100%;
  }

  footer {
    text-align: center;
    padding: var(--gap);
    font-size: .875rem;
    color: #888;
  }
</style>
{% endblock %}

{% block content %}
  <section class="hero">
    <img src="{{ url_for('static', filename='img/logo.png') }}" alt="Wingman logo" class="logo">
    <h1>Wingman</h1>
    <p>Record sessions & ride the wind smarter</p>
    {% if session.user_id %}
      <a href="{{ url_for('training.log_session') }}" class="btn-cta">Log New Session</a>
    {% else %}
      <a href="{{ url_for('auth.register') }}" class="btn-cta">Get Started Free</a>
    {% endif %}
  </section>

  <section class="weather">
    <div id="weather-widget-container"></div>
  </section>
{% endblock %}

{% block extra_js %}
  <script src="{{ url_for('static', filename='js/weather_api.js') }}"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const w = new WeatherWidget();
      w.initialize('weather-widget-container');
    });
  </script>
{% endblock %}
