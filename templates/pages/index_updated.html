{% extends "base.html" %}

{% block title %}Home - Wingman{% endblock %}

{% block extra_css %}
<style>
:root {
  --primary: #FF6700;
  --accent: #01426A;
  --text-light: #f8f9fa;
  --text-dark: #343a40;
  --bg-light-accent: #eef4f8; /* Lighter accent for backgrounds */
  --spacer: 1.5rem;
  --border-radius: 8px;
}

/* Navbar logo height (moved from inline) */
.navbar-brand img {
  height: 35px;
  vertical-align: middle;
}

/* Hero Section */
.hero-section {
  position: relative;
  background: url("{{ url_for('static', filename='img/wingfoil-hero.jpg') }}") no-repeat center center;
  background-size: cover;
  padding: calc(var(--spacer) * 4) var(--spacer);
  color: var(--text-light);
  min-height: 60vh; /* Ensure hero takes significant space */
  display: flex;
  align-items: center; /* Vertically center content */
  justify-content: center; /* Horizontally center content */
}

.hero-section::before { /* Gradient overlay */
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.7)); /* Darker gradient */
  z-index: 1;
}

.hero-content {
  position: relative; /* Ensure content is above overlay */
  z-index: 2;
  max-width: 700px; /* Limit content width */
}

.hero-content h1 {
  font-size: 3.5rem;
  font-weight: 700;
  margin-bottom: var(--spacer);
  text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
}

.hero-content p.lead {
  font-size: 1.25rem;
  margin-bottom: calc(var(--spacer) * 1.5);
  text-shadow: 1px 1px 3px rgba(0,0,0,0.5); /* Slightly stronger shadow */
}

.btn-cta {
  padding: 0.8rem 2.5rem;
  background-color: var(--primary);
  border-color: var(--primary);
  color: var(--text-light);
  font-weight: 600;
  letter-spacing: 0.5px;
  transition: all 0.3s ease;
  text-transform: uppercase;
  font-size: 1rem;
}

.btn-cta:hover {
  background-color: #E65A00; /* Slightly darker primary */
  border-color: #E65A00;
  transform: translateY(-2px);
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

/* Features Section */
.features-section {
  padding: calc(var(--spacer) * 3) var(--spacer);
  background-color: var(--bg-light-accent);
  overflow-x: hidden; /* Prevent horizontal scrollbars from animations */
}

.feature-item {
  text-align: center;
  margin-bottom: calc(var(--spacer) * 2);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  padding: var(--spacer);
  border-radius: var(--border-radius);
}

.feature-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
}

.feature-icon-wrapper {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background-color: var(--primary);
  color: var(--text-light);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-bottom: var(--spacer);
  box-shadow: 0 4px 10px rgba(var(--primary), 0.4);
}

.feature-icon {
  font-size: 3rem;
  /* color is inherited from wrapper */
}

.feature-item h3 {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--accent);
  margin-bottom: 0.5rem;
}

/* Weather Section - Integrating card */
.weather-section {
  padding: calc(var(--spacer) * 2) var(--spacer);
  display: flex;
  justify-content: center;
  background-color: #ffffff; /* White background */
}

.weather-card {
  background: var(--bg-light-accent);
  padding: var(--spacer);
  border-radius: var(--border-radius);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  max-width: 380px;
  width: 100%;
  text-align: center;
}

.weather-icon { margin-bottom:.5rem; }
.weather-temp { font-weight: 600; font-size: 2rem; color: var(--text-dark); }
.weather-desc { margin-bottom: var(--spacer); color: #6c757d; } /* Dim description slightly */
.weather-info div { margin-top: .5rem; display: flex; justify-content: center; align-items: center; gap: .75rem; color: var(--text-dark); }
.weather-info i { 
  color: var(--primary); 
  font-size: 1.2rem; 
  min-width: 20px; /* Ensure icons align */ 
  text-align: center;
}
.weather-time { margin-top: var(--spacer); color: #6c757d; font-size: 0.85rem;}

/* Simple fade-in animation */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.fade-in-section {
  animation: fadeIn 0.8s ease-out forwards;
  opacity: 0; /* Start hidden */
}

/* Delay for staggered effect (optional, apply class to columns if needed) */
.delay-1 { animation-delay: 0.2s; }
.delay-2 { animation-delay: 0.4s; }

</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
  <div class="hero-content">
    <h1>Master Your Ride</h1>
    <p class="lead">Track wingfoil sessions, analyze performance, and conquer the wind with Wingman.</p>
    {% if session.user_id %}
      <a href="{{ url_for('training.log_session') }}" class="btn btn-cta">Log New Session</a>
    {% else %}
      <a href="{{ url_for('auth.register') }}" class="btn btn-cta">Get Started Free</a>
    {% endif %}
  </div>
</section>

<!-- Features Section -->
<section class="features-section fade-in-section">
  <div class="container">
    <div class="row">
      <div class="col-md-4 feature-item">
        <div class="feature-icon-wrapper">
          <i class="bi bi-journal-plus feature-icon"></i>
        </div>
        <h3>Log Sessions Easily</h3>
        <p>Quickly record details about your time on the water, gear used, and conditions.</p>
      </div>
      <div class="col-md-4 feature-item">
        <div class="feature-icon-wrapper">
          <i class="bi bi-graph-up-arrow feature-icon"></i>
        </div>
        <h3>Track Your Progress</h3>
        <p>Analyze performance stats, view session history, and see how your skills improve over time.</p>
      </div>
      <div class="col-md-4 feature-item">
        <div class="feature-icon-wrapper">
          <i class="bi bi-cloud-sun feature-icon"></i>
        </div>
        <h3>Check Conditions</h3>
        <p>Get live weather updates for your favorite spots before you head out.</p>
      </div>
    </div>
  </div>
</section>

<!-- Weather Widget Section -->
<section class="weather-section">
  <div class="weather-card">
    <h4 class="mb-3 fw-bold" style="color: var(--accent);">Tarifa Live Conditions</h4>
    <div class="weather-icon mb-2"><i class="{{ weather.current.icon | default('bi-question-circle') }} fs-1" style="color: var(--primary);"></i></div>
    <div class="weather-temp">{{ weather.current.temp }}°C</div>
    <div class="weather-desc">{{ weather.current.description }}</div>
    <div class="weather-info">
      <div><i class="bi bi-wind"></i> {{ weather.wind.speed }} km/h {{ weather.wind.direction }}</div>
      <div><i class="bi bi-water"></i> Water: {{ weather.water.temp }}°C | Waves: {{ weather.water.wave_height }}m</div>
    </div>
    <div class="weather-time"><small>Updated: {{ current_time }}</small></div>
  </div>
</section>

{% endblock %}
