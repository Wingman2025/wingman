{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<!-- Hero Section with integrated logo -->
<section class="hero-section mb-5">
  <img src="{{ url_for('static', filename='img/Wingsalsa.png') }}" alt="Wingsalsa Logo" class="hero-logo mb-4">
  <p class="lead mb-4 text-dark">Take lessons, track your wingfoil sessions, and conquer the wingfoil with Wingsalsa.</p>
  <a href="{{ url_for('auth.register') }}" class="btn btn-gradient btn-lg px-5 py-3 fw-bold">Get Started Free</a>
</section>

<!-- Features Section -->
<section class="mt-5 pt-4 features-section">
    <div class="container">
        <div class="row justify-content-center mb-5">
            <div class="col-lg-8 text-center">
                <h2 class="tools-title">Your Complete Wingfoil Companion</h2>
                <p class="tools-subtitle">Powerful tools designed to transform your wingfoil journey</p>
            </div>
        </div>
        
        <!-- Record Sessions -->
        <div class="row feature-row align-items-center mb-5">
            <div class="col-lg-6 feature-text-col">
                <div class="feature-icon-wrapper ocean-icon mb-4">
                    <i class="bi bi-camera-video-fill icon-feature"></i>
                    <div class="icon-pulse"></div>
                </div>
                <h3 class="feature-title">Record Sessions</h3>
                <p class="feature-description">
                    Easily log every wingfoil session with detailed inputs. Record the date, location, wind and water conditions, 
                    session duration, and skills practiced. Add notes or even upload photos/videos to capture your progress 
                    and memorable moments on the water.
                </p>
                <div class="text-center">
                    <a href="{{ url_for('training.log_session') }}" class="btn btn-primary feature-btn">LOG SESSION</a>
                </div>
            </div>
            <div class="col-lg-6 feature-img-col">
                <div class="feature-img-wrapper">
                    <img src="{{ url_for('static', filename='img/log.jpg') }}?v={{ range(1, 10000) | random }}" alt="Record Sessions" class="feature-img">
                </div>
            </div>
        </div>
        
        <!-- Analyze Progress -->
        <div class="row feature-row align-items-center mb-5 flex-lg-row-reverse">
            <div class="col-lg-6 feature-text-col">
                <div class="feature-icon-wrapper sunset-icon mb-4">
                    <i class="bi bi-bar-chart-line-fill icon-feature"></i>
                    <div class="icon-pulse"></div>
                </div>
                <h3 class="feature-title">Analyze Progress</h3>
                <p class="feature-description">
                    Turn your logged sessions into actionable insights. Visualize your performance with interactive charts 
                    and graphs that track your session frequency, progress in key skills, and overall improvement over time. 
                    Compare wind conditions with your performance and see trends in your practice patterns.
                </p>
                <div class="text-center">
                    <a href="{{ url_for('training.stats') }}" class="btn btn-primary feature-btn">VIEW STATS</a>
                </div>
            </div>
            <div class="col-lg-6 feature-img-col">
                <div class="feature-img-wrapper">
                    <img src="{{ url_for('static', filename='img/train.jpg') }}?v={{ range(1, 10000) | random }}" alt="Analyze Progress" class="feature-img">
                </div>
            </div>
        </div>
        
        <!-- Set Goals -->
        <div class="row feature-row align-items-center">
            <div class="col-lg-6 feature-text-col">
                <div class="feature-icon-wrapper sky-icon mb-4">
                    <i class="bi bi-flag-fill icon-feature"></i>
                    <div class="icon-pulse"></div>
                </div>
                <h3 class="feature-title">Set Goals</h3>
                <p class="feature-description">
                    Define your wingfoil ambitions with our premium roadmap feature. Set personalized goals based on your 
                    current skill level—from mastering basic wing handling to performing advanced aerials. Use our progress 
                    tracker to mark milestones, and receive tailored recommendations to keep you motivated and on track.
                </p>
                <div class="text-center">
                    <a href="{{ url_for('training.stats') }}" class="btn btn-primary feature-btn">SET GOALS</a>
                </div>
            </div>
            <div class="col-lg-6 feature-img-col">
                <div class="feature-img-wrapper">
                    <img src="{{ url_for('static', filename='img/goal2.jpg') }}?v={{ range(1, 10000) | random }}" alt="Set Goals" class="feature-img">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="mt-5 pt-3">
    <div class="card bg-gradient-light rounded-xl">
        <div class="card-body text-center py-5">
            {% if session.user_id %}
            <h2 class="display-5 mb-4">Ready to Improve Your Skills?</h2>
            <p class="lead mb-4">Log your latest session and track your progress over time.</p>
            <div class="text-center">
                <a href="{{ url_for('training.log_session') }}" class="btn btn-primary btn-lg">LOG NEW SESSION</a>
            </div>
            {% else %}
            <h2 class="display-5 mb-4">Ready to Improve Your Wingfoil Skills?</h2>
            <p class="lead mb-4">Create an account to start tracking your sessions today.</p>
            <div class="d-flex justify-content-center gap-3">
                <a href="{{ url_for('auth.register') }}" class="btn btn-primary btn-lg">SIGN UP</a>
                <a href="{{ url_for('auth.login') }}" class="btn btn-outline-primary btn-lg">LOGIN</a>
            </div>
            {% endif %}
        </div>
    </div>
</section>

<!-- Weather Widget Section (Bottom of Page) -->
<section class="mt-5 pt-3 pb-5">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card shadow-lg weather-card">
                <div class="card-header bg-light">
                    <h4 class="mb-0">Tarifa Weather Conditions</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4 text-center">
                            <h5 class="mb-3">Current Conditions</h5>
                            <div class="weather-icon">
                                <i class="bi {{ weather.current.icon }} fs-1"></i>
                            </div>
                            <div class="weather-temp fs-2">{{ weather.current.temp }}°C</div>
                            <div class="weather-desc">{{ weather.current.description }}</div>
                        </div>
                        <div class="col-md-4 text-center border-start border-end">
                            <h5 class="mb-3">Wind</h5>
                            <div class="wind-icon">
                                <i class="bi {{ weather.wind.icon }} fs-1"></i>
                            </div>
                            <div class="wind-speed">{{ weather.wind.speed }} km/h</div>
                            <div class="wind-dir">{{ weather.wind.direction }}</div>
                        </div>
                        <div class="col-md-4 text-center">
                            <h5 class="mb-3">Water</h5>
                            <div class="water-icon">
                                <i class="bi {{ weather.water.icon }} fs-1"></i>
                            </div>
                            <div class="water-temp">{{ weather.water.temp }}°C</div>
                            <div class="wave-height">{{ weather.water.wave_height }}m waves</div>
                        </div>
                    </div>
                    <div class="text-center mt-3">
                        <small class="text-muted">Data for Tarifa, Spain - Last updated: {{ current_time }}</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<style>
    .hero-section {
        position: relative;
        height: 100vh;
        max-height: 700px;
        min-height: 500px;
        overflow: hidden;
        margin-bottom: 50px;
    }
    
    .hero-image-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
    }
    
    .hero-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
    }
    
    /* Responsive adjustments for mobile devices */
    @media (max-width: 768px) {
        .hero-image {
            object-position: 40% center; /* Move focus point more to the left */
            transform: scale(1.2); /* Slightly zoom out to show more of the image */
        }
        
        .hero-section {
            height: 80vh;
        }
        
        .hero-content {
            width: 100% !important;
            max-width: 100% !important;
            padding: 20px !important;
            margin: 0 auto !important;
            text-align: center !important;
        }
        
        .hero-title {
            font-size: 2.2rem !important;
            text-align: center !important;
            width: 100% !important;
        }
        
        .hero-subtitle {
            font-size: 1rem !important;
            text-align: center !important;
            width: 100% !important;
            margin-left: auto !important;
            margin-right: auto !important;
        }
        
        .cta-button {
            display: inline-block !important;
            margin: 0 auto !important;
        }
    }
    
    .hero-image-container::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.7) 100%);
        z-index: 2;
    }
    
    .hero-content {
        position: relative;
        z-index: 3;
        padding: 30px;
        border-radius: 10px;
        text-align: center;
        max-width: 800px;
        margin: 0 auto;
        width: 100%;
    }
    
    .hero-title {
        font-size: 3.5rem;
        font-weight: 800;
        margin-bottom: 1rem;
        color: white;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        text-align: center;
    }
    
    .hero-subtitle {
        font-size: 1.25rem;
        font-weight: 500;
        margin-bottom: 2rem;
        color: white;
        text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
        max-width: 600px;
        text-align: center;
    }
    
    .cta-button {
        display: inline-block;
        padding: 12px 30px;
        font-size: 1.1rem;
        font-weight: 600;
        color: white;
        background-color: #00B4DB;
        border-radius: 50px;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: 0 4px 15px rgba(0, 180, 219, 0.4);
        border: none;
        cursor: pointer;
        text-align: center;
        margin: 0 auto;
    }
    
    .cta-button:hover {
        background-color: #0095b5;
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 180, 219, 0.6);
        color: white;
    }
    
    /* Feature section styling */
    .features-section {
        padding: 50px 0;
        background-color: #f8f9fa;
        background-image: none;
    }
    
    .tools-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: #333;
        margin-bottom: 15px;
        position: relative;
        display: inline-block;
        padding-bottom: 15px;
    }
    
    .tools-title::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 80px;
        height: 4px;
        background: #00B4DB;
        border-radius: 2px;
    }
    
    .tools-subtitle {
        font-size: 1.2rem;
        color: #666;
        max-width: 700px;
        margin: 0 auto 30px;
    }
    
    .feature-row {
        padding: 25px 0;
        margin-bottom: 20px;
        border-radius: 12px;
        position: relative;
        overflow: hidden;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        background-color: white;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
    }
    
    .feature-row:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 25px rgba(0, 0, 0, 0.12);
    }
    
    /* Decorative elements */
    .feature-row::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 5px;
        height: 100%;
        background: #00B4DB;
    }
    
    .feature-text-col {
        padding: 15px 30px;
    }
    
    .feature-title {
        font-size: 1.6rem;
        font-weight: 700;
        margin-bottom: 15px;
        color: #333;
    }
    
    .feature-description {
        font-size: 1rem;
        line-height: 1.6;
        color: #555;
        margin-bottom: 20px;
    }
    
    .feature-btn {
        padding: 8px 20px;
        font-weight: 600;
        border-radius: 6px;
        transition: all 0.3s ease;
        border: none;
        background: #00B4DB;
        color: white;
    }
    
    .feature-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 15px rgba(0, 180, 219, 0.2);
        background: #0095b5;
    }
    
    .feature-img-col {
        padding: 15px;
    }
    
    .feature-img-wrapper {
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        max-width: 90%;
        margin: 0 auto;
    }
    
    .feature-img-wrapper:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
    }
    
    .feature-img {
        width: 100%;
        height: auto;
        max-height: 250px;
        object-fit: cover;
        transition: transform 0.5s ease;
    }
    
    .feature-icon-wrapper {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 70px;
        height: 70px;
        border-radius: 50%;
        margin-bottom: 15px;
        position: relative;
        transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        background: #00B4DB;
        box-shadow: 0 8px 15px rgba(0, 180, 219, 0.3);
    }
    
    .feature-card:hover .feature-icon-wrapper {
        transform: scale(1.15) rotate(5deg);
    }
    
    .icon-feature {
        font-size: 2rem;
        color: #ffffff;
        z-index: 2;
    }
    
    .icon-pulse {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border-radius: 50%;
        z-index: 1;
        opacity: 0;
        transform: scale(0.8);
        animation: pulse 2s infinite;
        background: radial-gradient(circle, #00B4DB 0%, transparent 70%);
    }
    
    .feature-icon-wrapper:hover .icon-pulse {
        opacity: 0.4;
        animation-duration: 1.5s;
    }
    
    @keyframes pulse {
        0% {
            transform: scale(0.8);
            opacity: 0.3;
        }
        70% {
            transform: scale(1.1);
            opacity: 0.1;
        }
        100% {
            transform: scale(0.8);
            opacity: 0.3;
        }
    }
</style>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Feature icon hover effects
        const featureIcons = document.querySelectorAll('.feature-icon-wrapper');
        
        featureIcons.forEach(icon => {
            icon.addEventListener('mouseenter', function() {
                this.style.transform = 'scale(1.15) rotate(5deg)';
            });
            
            icon.addEventListener('mouseleave', function() {
                this.style.transform = 'scale(1)';
            });
        });
        
        // CTA button hover effect for browsers that don't fully support CSS transitions
        const ctaButton = document.querySelector('.cta-button');
        if (ctaButton) {
            ctaButton.addEventListener('mouseenter', function() {
                this.style.transform = 'scale(1.08)';
                this.style.boxShadow = '0 15px 30px rgba(0, 150, 199, 0.4)';
            });
            
            ctaButton.addEventListener('mouseleave', function() {
                this.style.transform = '';
                this.style.boxShadow = '';
            });
            
            ctaButton.addEventListener('mousedown', function() {
                this.style.transform = 'scale(0.98)';
                this.style.boxShadow = '0 2px 8px rgba(0, 123, 255, 0.3)';
            });
            
            ctaButton.addEventListener('mouseup', function() {
                this.style.transform = 'scale(1.08)';
                this.style.boxShadow = '0 15px 30px rgba(0, 150, 199, 0.4)';
            });
        }
    });
</script>
{% endblock %}
